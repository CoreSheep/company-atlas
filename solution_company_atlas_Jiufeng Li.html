<!DOCTYPE html>
<html>
<head>
<title>solution_company_atlas_Jiufeng Li.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<div align="center">
<div style="display: flex; align-items: center; justify-content: center; gap: 1.5rem; margin-bottom: 1rem;">
  <img src="website/assets/favicon.svg" alt="Company Atlas Logo" width="60" height="60" style="display: block;">
  <h1 style="margin: 0; display: inline-block; text-decoration: none; border-bottom: none;">Company Atlas</h1>
</div>
<hr>
<p><strong>A unified firmographic data platform with thousands of companies from open-source datasets</strong></p>
<br>
<div align="center">
<p><a href="https://coresheep.github.io/company-atlas/"><img src="https://img.shields.io/badge/Website-Live-brightgreen?style=for-the-badge&amp;logo=github" alt="Website"></a>
 
<a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-blue.svg?style=for-the-badge" alt="License"></a>
 
<a href="https://jiufengblog.web.app/"><img src="https://img.shields.io/badge/Author-Jiufeng Li-FF6B6B?style=for-the-badge" alt="Author"></a></p>
</div>
<br>
<div align="center">
<p><a href="https://www.python.org/"><img src="https://img.shields.io/badge/Python-3.9+-3776AB?style=for-the-badge&amp;logo=python&amp;logoColor=white" alt="Python"></a>
 
<a href="https://fastapi.tiangolo.com/"><img src="https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&amp;logo=fastapi&amp;logoColor=white" alt="FastAPI"></a>
 
<a href="https://www.getdbt.com/"><img src="https://img.shields.io/badge/dbt-FF694B?style=for-the-badge&amp;logo=dbt&amp;logoColor=white" alt="dbt"></a>
 
<a href="https://airflow.apache.org/"><img src="https://img.shields.io/badge/Airflow-017CEE?style=for-the-badge&amp;logo=apacheairflow&amp;logoColor=white" alt="Apache Airflow"></a>
 
<a href="https://greatexpectations.io/"><img src="https://img.shields.io/badge/Great Expectations-FF6B9D?style=for-the-badge&amp;logo=great-expectations&amp;logoColor=white" alt="Great Expectations"></a>
 
<a href="https://aws.amazon.com/"><img src="https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&amp;logo=amazonaws&amp;logoColor=white" alt="AWS"></a>
 
<a href="https://www.snowflake.com/"><img src="https://img.shields.io/badge/Snowflake-29B5E8?style=for-the-badge&amp;logo=snowflake&amp;logoColor=white" alt="Snowflake"></a>
 
<a href="https://pages.github.com/"><img src="https://img.shields.io/badge/GitHub Pages-222222?style=for-the-badge&amp;logo=github&amp;logoColor=white" alt="GitHub Pages"></a></p>
</div>
<br>
<div align="center">
<p><strong>Author</strong>: <a href="https://jiufengblog.web.app/">Jiufeng Li</a> • <strong>Year</strong>: 2025</p>
<p><strong>Official Website</strong>: <a href="https://coresheep.github.io/company-atlas/">https://coresheep.github.io/company-atlas/</a></p>
</div>
<br>
<div align="center">
<img src="images/company-atlas-main.png" alt="Company Atlas Main Page">
</div>
</div>
<h2 id="overview">Overview</h2>
<p>Company Atlas collects, cleans, and normalizes firmographic data from multiple sources, producing an analytics-ready dataset with thousands of companies worldwide. The platform features an elegant interactive website, live dashboards, and a comprehensive REST API for data access.</p>
<blockquote>
<p><strong>Note</strong>: Currently, the dataset contains the top 1000 Fortune American companies. In the future, we plan to expand the dataset to include more companies worldwide.</p>
</blockquote>
<h3 id="key-highlights">Key Highlights</h3>
<ul>
<li><strong>Multi-Source Data</strong>: Combines Kaggle Fortune 1000 dataset with web crawler enrichment</li>
<li><strong>Automated Pipeline</strong>: End-to-end data processing with Airflow orchestration</li>
<li><strong>Data Quality</strong>: Comprehensive validation with dbt tests and Great Expectations</li>
<li><strong>Interactive Dashboards</strong>: Real-time visualizations and company profiles</li>
<li><strong>REST API</strong>: FastAPI-based API with interactive documentation</li>
<li><strong>Production Ready</strong>: Deployed on GitHub Pages with CI/CD automation</li>
</ul>
<h2 id="architecture">Architecture</h2>
<div align="center">
<img src="images/architecture.png" alt="Company Atlas Architecture">
</div>
<p>The architecture diagram above illustrates the complete data pipeline flow from data sources to the final user-facing website. The system integrates multiple components:</p>
<ul>
<li><strong>Data Sources</strong>: Kaggle open-source datasets and Python web crawlers</li>
<li><strong>Cloud Storage</strong>: Amazon Web Services S3 for raw data storage</li>
<li><strong>Data Warehouse</strong>: Snowflake for staging and data warehousing</li>
<li><strong>Data Pipelines</strong>: Staging → Raw → Bronze → Marts (dbt transformation layers)</li>
<li><strong>Orchestration</strong>: Apache Airflow for workflow automation</li>
<li><strong>Data Transformation</strong>: dbt for modeling, transformation, validation, and marts creation</li>
<li><strong>API &amp; Presentation</strong>: FastAPI REST API and Company Atlas Website</li>
</ul>
<h2 id="features">Features</h2>
<h3 id="statistics-dashboard">Statistics Dashboard</h3>
<div align="center">
<img src="images/feature_statistics.png" alt="Statistics Dashboard">
</div>
<ul>
<li><strong>Total Companies</strong>: Count of all companies in the dataset</li>
<li><strong>Total Revenue</strong>: Aggregate revenue across all companies</li>
<li><strong>Industries</strong>: Number of unique industries</li>
<li><strong>Average Employees</strong>: Mean employee count</li>
</ul>
<h3 id="company-profiles">Company Profiles</h3>
<div align="center">
<img src="images/feature_companies.png" alt="Company Profiles">
</div>
<ul>
<li><strong>Top Companies by Market Cap</strong>: Display of leading companies with logos</li>
<li><strong>Company Details</strong>: Market cap, Fortune rank, industry, revenue, employees, founded year</li>
<li><strong>Interactive Cards</strong>: Elegant company profile cards with visual hierarchy</li>
</ul>
<h3 id="live-dashboards">Live Dashboards</h3>
<p>Interactive carousel with multiple visualizations:</p>
<ul>
<li><strong>Top Industries</strong>: Bar chart showing industry distribution</li>
<li><strong>Revenue Distribution</strong>: Histogram of company revenues</li>
<li><strong>City Distribution</strong>: Geographic distribution of company headquarters</li>
<li><strong>Employee Count Distribution</strong>: Workforce size analysis</li>
<li><strong>Revenue % Change</strong>: Year-over-year revenue growth/decline</li>
<li><strong>Revenue Growth &amp; Decline</strong>: Combined visualization of top performers</li>
</ul>
<h3 id="interactive-search">Interactive Search</h3>
<div align="center">
<img src="images/feature_company_search.png" alt="Company Search">
</div>
<ul>
<li>Search by company name or CEO name</li>
<li>Real-time filtering and results display</li>
<li>Sortable table with key company metrics</li>
<li>Displays: company name, ticker, CEO, founded year, domain, industry, headquarters, market cap, revenue</li>
</ul>
<h3 id="rest-api">REST API</h3>
<div align="center">
<img src="images/feature_api.png" alt="REST API">
</div>
<p>FastAPI-based RESTful API with comprehensive endpoints:</p>
<ul>
<li><code>GET /api/v1/companies</code> - Search and retrieve companies with filtering</li>
<li><code>GET /api/v1/companies/{id}</code> - Get specific company by ID</li>
<li><code>GET /api/v1/statistics</code> - Dataset statistics and distributions</li>
<li><code>GET /api/v1/industries</code> - List of all industries</li>
<li><code>GET /api/v1/countries</code> - List of all countries</li>
</ul>
<p><strong>Interactive Documentation</strong>: Available at <code>/docs</code> endpoint with Swagger UI</p>
<h2 id="data-pipelines">Data Pipelines</h2>
<h3 id="1-data-collection">1. Data Collection</h3>
<p><strong>Multi-Source Ingestion:</strong></p>
<ul>
<li><strong>Kaggle Datasets</strong>: Downloads Fortune 1000 2024 dataset from Kaggle</li>
<li><strong>Web Crawler</strong>: Enriches company data by scraping additional information (founded year, company details) from web sources</li>
<li>Data is collected asynchronously using <code>trio</code> for efficient concurrent processing</li>
</ul>
<h3 id="2-data-ingestion">2. Data Ingestion</h3>
<p><strong>S3 Storage:</strong></p>
<ul>
<li>Raw data files (CSV and Parquet formats) are uploaded to AWS S3 buckets</li>
<li>Files are organized by source: <code>fortune1000/</code> and <code>global_companies/</code></li>
</ul>
<p><strong>Snowflake Staging:</strong></p>
<div align="center">
<img src="images/snowflake.png" alt="Snowflake Schemas">
</div>
<ul>
<li>Data is loaded from S3 to Snowflake staging tables using external stages</li>
<li><code>COPY INTO</code> commands with proper file format configurations (CSV with header parsing)</li>
<li>Staging tables: <code>STG_FORTUNE1000</code>, <code>STG_GLOBAL_COMPANIES</code></li>
</ul>
<h3 id="3-data-modeling-and-transformation-with-dbt">3. Data Modeling and Transformation with dbt</h3>
<div align="center">
<img src="images/dbt_docs.png" alt="dbt Documentation">
</div>
<p><strong>Transformation Layers:</strong></p>
<ul>
<li><strong>Raw Layer</strong>: Initial data cleaning and normalization
<ul>
<li><code>raw_dim_companies</code>: Unified company dimension table</li>
<li><code>raw_fct_company_metrics</code>: Company metrics and financial data</li>
</ul>
</li>
<li><strong>Bronze Layer</strong>: Data quality validation and standardization
<ul>
<li><code>bronze_dim_companies</code>: Cleaned company master data</li>
<li><code>bronze_fct_company_metrics</code>: Validated metrics data</li>
</ul>
</li>
<li><strong>Marts Layer</strong>: Analytics-ready unified tables
<ul>
<li><code>unified_companies</code>: Final star schema with joined dimension and fact tables</li>
</ul>
</li>
</ul>
<p><strong>Data Quality:</strong></p>
<ul>
<li>Automatic tests using dbt:
<ul>
<li>Uniqueness tests on <code>company_name</code></li>
<li>Not null constraints on key fields</li>
<li>Range validation (e.g., Fortune rank 1-1000)</li>
<li>Relationship integrity checks</li>
</ul>
</li>
<li>Comprehensive validation using Great Expectations:
<ul>
<li><strong>Raw Layer Validation</strong>: Validates <code>raw_dim_companies</code> and <code>raw_fct_company_metrics</code>
<ul>
<li>Column existence checks (company_id, company_name, source_system)</li>
<li>Not null constraints on key fields (mostly 95-99% threshold)</li>
<li>Range validation: founded_year (1800-2030), fortune_rank (1-1000)</li>
</ul>
</li>
<li><strong>Bronze Layer Validation</strong>: Validates <code>bronze_dim_companies</code> and <code>bronze_fct_company_metrics</code>
<ul>
<li>Uniqueness checks on company_id and company_name (mostly 99% threshold)</li>
<li>Enhanced data quality with stricter not null constraints</li>
<li>Range validation: founded_year, fortune_rank, employee_count (&gt;= 0)</li>
</ul>
</li>
<li><strong>Marts Layer Validation</strong>: Validates <code>unified_companies</code> (analytics-ready data)
<ul>
<li>Uniqueness checks on company_id and company_name</li>
<li>Not null constraints on country, source_system</li>
<li>Range validation: founded_year, fortune_rank, employee_count</li>
<li>Schema validation and data type enforcement</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Data Lineage:</strong></p>
<div align="center">
<img src="images/dbt_lineage_graph.png" alt="dbt Lineage Graph">
</div>
<p>The lineage graph above shows the complete data flow from staging tables through raw, bronze, and marts layers, demonstrating how data is transformed and validated at each stage.</p>
<h3 id="4-orchestration">4. Orchestration</h3>
<p><strong>Apache Airflow:</strong></p>
<ul>
<li>Automated workflow scheduling for the entire pipeline (daily schedule)</li>
<li>DAG: <code>company_atlas_pipeline</code> orchestrates the complete data flow</li>
</ul>
<p><strong>Pipeline Workflow:</strong></p>
<ol>
<li><strong>Data Ingestion</strong>: Kaggle datasets + Web crawler enrichment</li>
<li><strong>S3 Upload</strong>: Upload raw CSV files to AWS S3</li>
<li><strong>Snowflake Staging</strong>: Load data from S3 to Snowflake staging tables (<code>STG_FORTUNE1000</code>, <code>STG_GLOBAL_COMPANIES</code>)</li>
<li><strong>dbt Raw Layer</strong>: Run raw layer models for initial data cleaning and normalization</li>
<li><strong>Great Expectations Raw Validation</strong>: Validate raw layer data quality</li>
<li><strong>dbt Bronze Layer</strong>: Run bronze layer models for data quality validation and standardization</li>
<li><strong>Great Expectations Bronze Validation</strong>: Validate bronze layer data quality</li>
<li><strong>dbt Marts Layer</strong>: Run marts layer models to create analytics-ready unified tables</li>
<li><strong>Great Expectations Marts Validation</strong>: Validate marts layer data quality</li>
<li><strong>dbt Tests</strong>: Run comprehensive data quality tests</li>
<li><strong>Website Data Download</strong>: Download unified companies data for website visualization</li>
</ol>
<p><strong>Task Dependencies:</strong></p>
<pre class="hljs"><code><div>Ingestion → S3 Upload → Snowflake Staging → dbt Raw → GE Raw → 
dbt Bronze → GE Bronze → dbt Marts → GE Marts → dbt Tests → Website Download
</div></code></pre>
<h3 id="5-data-transformation">5. Data Transformation</h3>
<p><strong>dbt Models:</strong></p>
<ul>
<li>Incremental materialization for efficient updates</li>
<li>Column normalization and type casting</li>
<li>Deduplication across multiple sources</li>
<li>Schema unification (star schema design)</li>
<li>Automatic timestamp tracking (<code>loaded_at</code>, <code>last_updated_at</code>)</li>
</ul>
<h3 id="6-data-visualization">6. Data Visualization</h3>
<p><strong>Interactive Website:</strong></p>
<ul>
<li>Live dashboards with Chart.js visualizations</li>
<li>Real-time statistics and company profiles</li>
<li>Interactive search functionality</li>
<li>Responsive design for mobile and desktop</li>
</ul>
<h2 id="api-documentation">API Documentation</h2>
<p>Full API documentation is available on the website:</p>
<ul>
<li><strong>Website Documentation</strong>: <a href="https://coresheep.github.io/company-atlas/docs/api.html">https://coresheep.github.io/company-atlas/docs/api.html</a></li>
<li><strong>Interactive API Docs</strong>: <a href="http://localhost:8000/docs">http://localhost:8000/docs</a> (when running locally)</li>
<li><strong>ReDoc</strong>: <a href="http://localhost:8000/redoc">http://localhost:8000/redoc</a> (when running locally)</li>
</ul>
<h3 id="example-usage">Example Usage</h3>
<p><strong>Python:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> requests

<span class="hljs-comment"># Search for Apple by company name</span>
response = requests.get(
    <span class="hljs-string">"http://localhost:8000/api/v1/companies"</span>,
    params={
        <span class="hljs-string">"company_name"</span>: <span class="hljs-string">"Apple"</span>,
        <span class="hljs-string">"page"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"page_size"</span>: <span class="hljs-number">10</span>
    }
)

companies = response.json()
print(<span class="hljs-string">f"Found <span class="hljs-subst">{companies[<span class="hljs-string">'total'</span>]}</span> companies"</span>)
<span class="hljs-keyword">for</span> company <span class="hljs-keyword">in</span> companies[<span class="hljs-string">'companies'</span>]:
    print(<span class="hljs-string">f"- <span class="hljs-subst">{company[<span class="hljs-string">'company_name'</span>]}</span> (<span class="hljs-subst">{company[<span class="hljs-string">'domain'</span>]}</span>)"</span>)
    print(<span class="hljs-string">f"  Industry: <span class="hljs-subst">{company[<span class="hljs-string">'industry'</span>]}</span>"</span>)
    print(<span class="hljs-string">f"  Revenue: $<span class="hljs-subst">{company[<span class="hljs-string">'revenue'</span>]:,<span class="hljs-number">.0</span>f}</span>"</span>)
    print(<span class="hljs-string">f"  Employees: <span class="hljs-subst">{company[<span class="hljs-string">'employee_count'</span>]:,}</span>"</span>)
</div></code></pre>
<p><strong>cURL:</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment"># Get statistics</span>
curl <span class="hljs-string">"http://localhost:8000/api/v1/statistics"</span>

<span class="hljs-comment"># Search for Apple</span>
curl <span class="hljs-string">"http://localhost:8000/api/v1/companies?company_name=Apple"</span>

<span class="hljs-comment"># Get specific company by ID</span>
curl <span class="hljs-string">"http://localhost:8000/api/v1/companies/{company_id}"</span>
</div></code></pre>
<h2 id="technology-stack">Technology Stack</h2>
<ul>
<li><strong>Data Collection</strong>: Kaggle API, Web Scraping (httpx, BeautifulSoup, trio)</li>
<li><strong>Cloud Storage</strong>: AWS S3</li>
<li><strong>Data Warehouse</strong>: Snowflake</li>
<li><strong>Data Transformation</strong>: dbt (Data Build Tool)</li>
<li><strong>Orchestration</strong>: Apache Airflow</li>
<li><strong>API</strong>: FastAPI, Uvicorn</li>
<li><strong>Frontend</strong>: HTML5, CSS3, JavaScript, Chart.js</li>
<li><strong>Deployment</strong>: GitHub Pages</li>
</ul>
<h2 id="project-structure">Project Structure</h2>
<pre class="hljs"><code><div>company-atlas/
├── pipelines/              # Data pipeline scripts
│   ├── ingestion/         # Data ingestion (Kaggle, web crawler)
│   ├── staging/           # S3 to Snowflake loading
│   └── website/           # Logo fetching and website utilities
├── dbt/                   # dbt models and tests
│   ├── models/
│   │   ├── raw/           # Raw layer models
│   │   ├── bronze/        # Bronze layer models
│   │   └── marts/         # Analytics-ready marts
│   └── schema.yml         # Schema definitions and tests
├── api/                   # FastAPI REST API
│   ├── main.py
│   └── models/
├── website/               # GitHub Pages website
│   ├── index.html
│   ├── assets/
│   │   ├── css/
│   │   ├── js/
│   │   └── logos/
│   └── docs/
│       └── api.html
├── data/                  # Local data storage
│   ├── raw/              # Raw data files
│   └── marts/            # Processed data
├── images/                # Documentation images
└── requirements.txt       # Python dependencies
</div></code></pre>
<h2 id="setup">Setup</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Python 3.9+</li>
<li>Snowflake account</li>
<li>AWS account with S3 access</li>
<li>Kaggle API credentials</li>
</ul>
<h3 id="installation">Installation</h3>
<ol>
<li>Clone the repository:</li>
</ol>
<pre class="hljs"><code><div>git <span class="hljs-built_in">clone</span> https://github.com/CoreSheep/company-atlas.git
<span class="hljs-built_in">cd</span> company-atlas
</div></code></pre>
<ol start="2">
<li>Install Python dependencies:</li>
</ol>
<pre class="hljs"><code><div>pip install -r requirements.txt
</div></code></pre>
<ol start="3">
<li>Set up environment variables:</li>
</ol>
<pre class="hljs"><code><div>cp .env.example .env
<span class="hljs-comment"># Edit .env with your credentials (Snowflake, AWS, Kaggle)</span>
</div></code></pre>
<ol start="4">
<li>Configure dbt:</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-built_in">cd</span> dbt
dbt deps
</div></code></pre>
<ol start="5">
<li>Run data pipeline:</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment"># Download datasets</span>
python pipelines/ingestion/main_ingestion.py

<span class="hljs-comment"># Upload to S3</span>
python pipelines/staging/upload_to_s3.py

<span class="hljs-comment"># Load to Snowflake</span>
<span class="hljs-comment"># Run SQL scripts in pipelines/staging/</span>

<span class="hljs-comment"># Run dbt models</span>
<span class="hljs-built_in">cd</span> dbt
dbt run
dbt <span class="hljs-built_in">test</span>
</div></code></pre>
<h2 id="citation">Citation</h2>
<p>If you use Company Atlas in your research or project, please cite:</p>
<pre class="hljs"><code><div>Li, J. (2025). Company Atlas: A Unified Firmographic Data Platform. 
&lt;https://coresheep.github.io/company-atlas/&gt;
</div></code></pre>
<p><strong>Author</strong>: <a href="https://jiufengblog.web.app/">Jiufeng Li</a><br>
<strong>Project Website</strong>: <a href="https://coresheep.github.io/company-atlas/">https://coresheep.github.io/company-atlas/</a><br>
<strong>Year</strong>: 2025</p>
<h2 id="license">License</h2>
<p>This project is licensed under the MIT License - see the <a href="LICENSE">LICENSE</a> file for details.</p>
<p>Copyright (c) 2025 <a href="https://jiufengblog.web.app/">Jiufeng Li</a></p>

</body>
</html>
